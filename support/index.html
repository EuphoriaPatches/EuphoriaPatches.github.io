<!DOCTYPE html>
<html lang="en">
<head>
<!-- <script type="text/javascript">
var _iub = _iub || [];
_iub.csConfiguration = {"siteId":3939191,"cookiePolicyId":69217758,"lang":"en","storage":{"useSiteId":true}};
</script> -->
<!-- <script type="text/javascript" src="https://cs.iubenda.com/autoblocking/3939191.js"></script>
<script type="text/javascript" src="//cdn.iubenda.com/cs/gpp/stub.js"></script>
<script type="text/javascript" src="//cdn.iubenda.com/cs/iubenda_cs.js" charset="UTF-8" async></script> -->

    <!-- Basic Page Needs
    ================================================== -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="canonical" href="https://www.euphoriapatches.com/support/"/>

    <title>Support Development | Euphoria Patches</title>

    <meta name="description" content="Support SpacEagle17, the developer of Euphoria Patches and access dev versions!">
    <meta name="author" content="">
    <meta name="keywords" content="">

    <!-- Mobile Specific Metas
    ================================================== -->
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=5.0">
    <meta name="apple-mobile-web-app-capable"="yes">
    <meta name="mobile-web-app-capable"="yes">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,300i,400,600,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">

    <!-- Favicon
    ================================================== -->
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/EuphoriaPatchesLogo.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/EuphoriaPatchesLogo16x.png">

    <!-- Stylesheets
    ================================================== -->
    <!-- Bootstrap core CSS -->
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/assets/css/style.min.css" rel="stylesheet">
    <link href="/assets/css/responsive.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Cookie Consent Script -->
    <script src="/assets/js/cookie-consent.js" async></script>

    <style>
    .footer-action-reminder {
        background: linear-gradient(to right, rgba(255, 80, 223, 0.2), rgba(144, 100, 255, 0.2));
        text-align: center;
        padding: 15px;
        font-weight: bold;
        margin-top: 30px;
    }

    .footer-action-reminder p {
        font-size: 16px;
    }

    .patreon-link {
        color: var(--ThemeColor);
        text-decoration: none;
    }

    .patreon-link:hover {
        text-decoration: underline;
    }

    .benefit-card {
        background: rgba(255, 80, 223, 0.08);
        border-radius: 12px;
        padding: 15px;
        margin-bottom: 15px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        border-left: 3px solid transparent;
        display: flex;
        flex-direction: row;
        align-items: center;
    }

    .benefit-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        border-left-color: var(--ThemeColor);
    }

    .benefit-icon {
        font-size: 24px;
        color: var(--ThemeColor);
        margin-right: 15px;
        display: flex;
        justify-content: center;
        align-items: center;
        min-width: 24px;
        background: rgba(255, 80, 223, 0.1);
        border-radius: 50%;
        width: 50px;
        height: 50px;
    }

    .benefit-content {
        flex: 1;
        text-align: left;
    }


    .benefits-list {
        list-style-type: none !important;
        padding: 10px !important;
    }

    .footnote {
        margin-bottom: -10px;
    }


    @media (max-width: 768px) {
        .see-more-container {
            padding-left: 0;
            padding-right: 0;
        }

        .see-more-content {
            overflow: hidden;
            position: relative;
            padding-left: 10px;
            transition: max-height 0.3s ease-out;
        }

        .benefit-icon {
            font-size: 24px;
            width: 40px;
            height: 40px;
        }

        .benefits-list {
            padding-left: 1rem !important;
            padding-right: 1rem !important;
        }
    }

    @media (max-width: 768px) {
        .benefit-card {
            padding: 12px 10px;
            margin-bottom: 12px;
            border-left-width: 2px;
        }

        .benefit-icon {
            font-size: 20px;
            margin-right: 10px;
            min-width: 20px;
        }

        .benefit-content p {
            margin: 0;
            font-size: 15px;
        }
    }

    .features-section {
        margin-top: -40px;
        padding: 20px 0;
    }

    .features-section-content {
        background-color: rgba(23, 24, 28, 0.6);
        border-radius: 12px;
        padding: 25px 20px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .text-center {
        text-align: center;
    }

    .features-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 20px;
        margin-top: 20px;
    }

    .feature-card {
        position: relative;
        width: calc(33.33% - 14px); /* 3 cards per row with gap considered */
        min-width: 280px;
        border-radius: 12px;
        overflow: hidden;
        background-color: rgba(35, 36, 40, 0.6);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border-left: 4px solid var(--ThemeColor);
        margin-bottom: 10px;
        cursor: auto;
    }

    .feature-card-media {
        height: 180px;
        position: relative;
        overflow: hidden;
        background-color: rgba(0,0,0,0.2);
        border-radius: 8px;
    }

    .feature-video {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 8px;
    }

    .feature-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }

    .feature-card-image {
        height: 180px;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        position: relative;
        border-radius: 8px;
        overflow: hidden;
        cursor: pointer;
    }

    .feature-card-content {
        padding: 20px 20px 0px 20px;
    }

    .feature-card h3 {
        margin-top: 0;
        margin-bottom: 15px;
        color: var(--ThemeColor);
        font-size: 22px;
        font-family: inherit;
        text-align: center;
        font-weight: 600;
    }

    .feature-card:hover h3 {
        color: var(--ThemeColor);
        font-weight: 600;
    }

    .feature-description {
        color: var(--VeryLightGray);
        font-size: 16px;
        line-height: 1.6;
        text-align: center;
    }

    /* YouTube thumbnail styles */
    .youtube-container {
        position: relative;
        cursor: pointer;
    }

    .youtube-thumbnail {
        position: relative;
        width: 100%;
        height: 100%;
        overflow: hidden;
    }

    .youtube-thumbnail img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
    }

    .youtube-play-button {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 68px;
        height: 48px;
        opacity: 0.75;
        transition: opacity 0.3s ease;
    }

    .youtube-container:hover .youtube-play-button {
        opacity: 1;
    }

    .youtube-play-button-bg {
        transition: fill 0.3s ease;
    }

    .youtube-container:hover .youtube-play-button-bg {
        fill: #f00;
    }


    /* Responsive adjustments */
    @media (max-width: 991px) {
        .feature-card {
        width: calc(50% - 10px); /* 2 cards per row on medium screens */
        }
    }

    @media (max-width: 767px) {
        /* Card sizing - maintain full width */
        .feature-card {
            width: 100%; /* 1 card per row on small screens */
        }

        .support-heading {
            margin-top: 0px !important;
        }

        /* Media element fixes - prevent cropping and ensure proper sizing */
        .feature-card-media,
        .feature-card-image {
            height: auto; /* Auto height based on content */
            min-height: 180px !important; /* Force minimum height to match desktop */
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .feature-video {
            max-height: 250px;
            min-height: 180px;
            width: 100%;
            object-fit: contain;
            flex-shrink: 0; /* Prevent video from shrinking */
        }
    }

    .visible-features, .hidden-features {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 20px;
        width: 100%;
    }

    .hidden-features {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        width: 100%;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.8s ease-out, opacity 0.4s ease-out;
        align-items: flex-start; /* Prevent vertical stretching */
    }

    .feature-card {
        height: auto !important;
        display: flex;
        flex-direction: column;
    }

    .feature-card-content {
        display: flex;
        flex-direction: column;
        height: auto !important;
    }

    .see-more-container {
        width: 100%;
        text-align: center;
        margin: 0;
    }

    .see-more-container-features {
        height: 0px;
    }

    .see-more-btn {
        background-color: rgba(255, 80, 223, 0.1);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 20px;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.2s ease;
        font-weight: 600;
    }

    .see-more-btn:hover {
        background-color: rgba(255, 80, 223, 0.3);
        transform: translateY(-2px);
    }

    .see-more-btn:active {
        transform: translateY(0);
    }


    .features-see-more-btn {
        margin-top: -50px !important;
        position: relative;
        top: -20px;
    }

    .carousel-container {
        position: relative;
        width: 100%;
        height: 180px;
        overflow: hidden;
        border-radius: 8px;
        cursor: pointer;
    }

    .carousel {
        width: 100%;
        height: 100%;
        position: relative;
    }

    .carousel-image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        opacity: 0;
        transition: opacity 0.5s ease;
        z-index: 1;
    }

    .carousel-image.active {
        opacity: 1;
        z-index: 2;
    }

    .carousel-indicator {
        position: absolute;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 8px;
        z-index: 3;
    }

    .indicator-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background-color: rgba(255, 255, 255, 0.5);
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .indicator-dot.active {
        background-color: white;
    }

    </style>

</head>
<body class="support-page">
<div id="support-counter-all-page">
    <header id="masthead" class="site-header site-header-white">
        <nav id="primary-navigation" class="site-navigation">
            <div class="container">

                <div class="navbar-header">

                    <a href="/" class="site-title"><span>Euphoria</span> Patches</a>

                </div><!-- /.navbar-header -->

                <div class="collapse navbar-collapse" id="agency-navbar-collapse">

                    <ul class="nav navbar-nav navbar-right">

                        <li><a href="/">Home</a></li>
                        <li><a class="download-navigation-button" href="/download">Download</a></li>
                        <li class="active"><a href="/support">Preview Versions</a></li>
                        <li><a href="/features/">Features</a></li>
                        <li><a href="/how-to-install">How To Install</a></li>

                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Information<i class="fa fa-caret-down hidden-xs" aria-hidden="true"></i></a>
                            <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
                              <li><a href="/contact">Contact</a></li>
                              <li><a href="/changelogs">Changelogs</a></li>
                              <li><a href="/faq">FAQ</a></li>
                              <li><a href="/gallery/">Gallery</a></li>
                              <li><a href="/credits">Credits</a></li>
                              <li><a href="/download-count/">Download Count</a></li>
                              <li><a href="/properties/list/">Supported Mod List</a></li>
                              <li><a href="/privacy-policy">Privacy Policy</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav><!-- /.site-navigation -->
    </header><!-- /#mastheaed -->

    <div id="hero" class="hero support-hero">
        <img
            src="/assets/img/backgrounds/donateBackground.webp"
            srcset="
                /assets/img/backgrounds/donateBackground-480w.webp 480w,
                /assets/img/backgrounds/donateBackground-540w.webp 540w,
                /assets/img/backgrounds/donateBackground-768w.webp 768w,
                /assets/img/backgrounds/donateBackground-780w.webp 780w,
                /assets/img/backgrounds/donateBackground-991w.webp 991w,
                /assets/img/backgrounds/donateBackground-1280w.webp 1280w,
                /assets/img/backgrounds/donateBackground.webp"
            alt="Get exclusive preview versions of Euphoria Patches by supporting the developer: image of a stars"
            class="hero-image"
        >
        <!--<div class="hero-content">
            <div class="hero-text">
                <h1>Support Development</h1>
            </div><!~~ /.hero-text ~~>
        </div>/.hero-content-->
    </div><!-- /.hero -->

    <main id="main" class="site-main"></main>
        <section class="site-section">
            <div class="container section-donation-container">
                <div class="hero-text support-dev-page">
                    <h3 class="support-heading">Join the Euphoria Patches Development Journey!</h3>
                    <p class="support-subheading">Support the project and unlock these exclusive benefits:</p>
                    <ul align="left" class="benefits-list">
                        <li>
                            <div class="benefit-card">
                                <div class="benefit-icon">üöÄ</div>
                                <div class="benefit-content">
                                    <p class="big-text-donation-page highlight-benefit"><strong>Exclusive Preview Versions</strong> - Get early access to new features and updates before they're publicly released!</p>
                                </div>
                            </div>
                        </li>
                        <div class="see-more-container" align="center">
                            <div class="see-more-content" id="morePerks" style="max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out;" align="left">
                                <li>
                                    <div class="benefit-card">
                                        <div class="benefit-icon">üí¨</div>
                                        <div class="benefit-content">
                                            <p class="benefit-item"><strong>Exclusive Discord Access</strong> - Join special channels with behind-the-scenes development talk and feature showcases and get the <strong>Discord Supporter Role</strong></p>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="benefit-card">
                                        <div class="benefit-icon">üîç</div>
                                        <div class="benefit-content">
                                            <p class="benefit-item"><strong>Behind-the-scenes Content</strong> - See how features are developed and influence future updates</p>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="benefit-card">
                                        <div class="benefit-icon">üìù</div>
                                        <div class="benefit-content">
                                            <p class="benefit-item"><strong>To-do List Access</strong> - See what features and tweaks are planned for the future</p>
                                        </div>
                                    </div>
                                </li>
                            </div>
                            <button onclick="togglePerks()" class="see-more-btn" id="seeMoreBtn">See More ‚ñº</button>
                        </div>
                    </ul>
                    <div class="supporter-level">Become a <span class="highlight">valued supporter</span> and enjoy all exclusive benefits!</div>
                    <div class="footnote">Your support helps cover essential costs and allows me to dedicate more time to Euphoria Patches development!</div>
                </div><!-- /.hero-text -->
                <div class="donation-banner-container">
                    <!-- Patreon Banner -->
                    <div class="donation-banner patreon-banner">
                        <div class="donation-banner-background section-patreon_img"></div>
                        <div class="donation-banner-content">
                            <div class="donation-banner-logo">
                                <img src="/assets/img/logos/patreonBlack200x.webp" alt="Patreon logo">
                            </div>
                            <h3>Support on Patreon</h3>
                            <p>Monthly support with exclusive rewards</p>
                            <div class="donation-banner-cta">
                                <span>Join Now</span>
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                                    <path fill="currentColor" d="M16.01 11H4v2h12.01v3L20 12l-3.99-4v3z"></path>
                                </svg>
                            </div>
                        </div>
                        <a href="/patreon" target="_blank" class="donation-banner-link" aria-label="Go to Patreon"></a>
                    </div>

                    <!-- Ko-Fi Banner -->
                    <div class="donation-banner kofi-banner">
                        <div class="donation-banner-background section-kofi_img"></div>
                        <div class="donation-banner-content">
                            <div class="donation-banner-logo">
                                <img src="/assets/img/logos/kofi200x.png" alt="Ko-fi logo">
                            </div>
                            <h3>Support on Ko-Fi</h3>
                            <p>One-time or recurring donations</p>
                            <div class="donation-banner-cta">
                                <span>Support Now</span>
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                                    <path fill="currentColor" d="M16.01 11H4v2h12.01v3L20 12l-3.99-4v3z"></path>
                                </svg>
                            </div>
                        </div>
                        <a href="/kofi" target="_blank" class="donation-banner-link" aria-label="Go to Ko-fi"></a>
                    </div>
                </div>


                <div class="features-section" id="featuresSection" style="display: none;">
                    <div class="features-section-content">
                        <h3 class="support-heading text-center">Preview Features</h3>
                        <p class="support-subheading text-center"></p>
                        <div class="features-container" id="featuresContainer">
                        <!-- Feature cards will be added here dynamically -->
                        </div>
                    </div>
                </div>

                <div id="image-overlay" class="gallery-images-overlay">
                    <span class="gallery-images-overlay-close">&times;</span>
                    <div class="gallery-image-container">
                        <img id="overlay-image" src="" alt="Fullscreen Image">
                    </div>
                </div>

            </div>
        </section>
    </main><!-- /#main -->

    <footer id="colophon" class="site-footer support-page-main"></footer>
        <div class="copyright">
            <div class="container">
                <div class="row">
                    <div class="col-xs-8">
                        <div class="social-links">
                            <a class="discord-bg" href="/discord" target="_blank" alt="Discord Invite"></a>
                            <a class="patreon-bg" href="/support" target="_blank" alt="Patreon Link"></a>
                            <a class="github-bg" href="/github" target="_blank" alt="Github Link"></a>
                            <a class="contact-bg" href="/contact" target="_blank" alt="Contact Page Link">Contact</a>
                        </div><!-- /.social-links -->
                    </div>
                    <div class="col-xs-4 site-title">
                        <div class="text-right">
                            <a href="/">Euphoria Patches</a>
                        </div>
                    </div>
                </div>
            </div>
        </div><!-- /.copyright -->
        <div class="footer-action-reminder">
            <p>Don't miss out on Early Access! <a href="/patreon" target="_blank" class="patreon-link">Support Euphoria Patches Today</a></p>
        </div>
    </footer><!-- /#footer -->
</div>



    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>
    <script src="/assets/js/bootstrap-select.min.js"></script>
    <script src="/assets/js/jquery.slicknav.min.js"></script>
    <script src="/assets/js/jquery.countTo.min.js"></script>
    <script src="/assets/js/jquery.shuffle.min.js"></script>
    <script src="/assets/js/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        function togglePerks() {
            const content = document.getElementById("morePerks");
            const btn = document.getElementById("seeMoreBtn");

            if (content.style.maxHeight === "0px" || !content.style.maxHeight) {
                // Calculate the actual height needed
                content.style.maxHeight = content.scrollHeight + "px";
                btn.innerHTML = "See Less ‚ñ≤";
                btn.style.backgroundColor = "rgba(255, 255, 255, 0.2)";
            } else {
                content.style.maxHeight = "0";
                btn.innerHTML = "See More ‚ñº";
                btn.style.backgroundColor = "rgba(255, 80, 223, 0.1)";
            }
        }
    </script>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // First check if the marked library is loaded
        if (typeof marked === 'undefined') {
        console.error('Marked library not loaded');
        return;
        }

        // Get all feature files in the directory
        loadFeatureFiles();
    });

    async function loadFeatureFiles() {
        try {
            const featuresSection = document.getElementById('featuresSection');
            const featuresContainer = document.getElementById('featuresContainer');
            let foundFeatures = false;
            let versionNumber = "X.Y.Z"; // Default version

            // Get list of files from the index.json instead of trying to fetch directory
            const response = await fetch('/support/features/index.json');

            if (response.ok) {
                const data = await response.json();

                if (data.files && data.files.length > 0) {
                    featuresSection.style.display = 'block';

                    // If version is provided in the index file, use it
                    if (data.version) {
                        versionNumber = data.version;
                    }

                    // Create container for hidden cards
                    const visibleContainer = document.createElement('div');
                    visibleContainer.className = 'visible-features';
                    featuresContainer.appendChild(visibleContainer);

                    const hiddenContainer = document.createElement('div');
                    hiddenContainer.className = 'hidden-features';
                    hiddenContainer.style.maxHeight = '0';
                    hiddenContainer.style.overflow = 'hidden';
                    hiddenContainer.style.transition = 'max-height 0.5s ease-out';
                    featuresContainer.appendChild(hiddenContainer);

                    // Create "See More" button container
                    const btnContainer = document.createElement('div');
                    btnContainer.className = 'see-more-container-features';
                    btnContainer.style.textAlign = 'center';
                    btnContainer.style.margin = '20px 0';

                    const seeMoreBtn = document.createElement('button');
                    seeMoreBtn.id = 'seeMoreFeaturesBtn'; // Unique ID
                    seeMoreBtn.className = 'see-more-btn features-see-more-btn collapsed';
                    seeMoreBtn.innerText = 'See More Features ‚ñº';
                    seeMoreBtn.style.backgroundColor = 'rgba(255, 80, 223, 0.1)';
                    seeMoreBtn.onclick = toggleFeatures;
                    btnContainer.appendChild(seeMoreBtn);

                    // Process each markdown file
                    for (let i = 0; i < data.files.length; i++) {
                        const fileName = data.files[i];
                        const fileResponse = await fetch(`/support/features/${fileName}`);

                        if (fileResponse.ok) {
                            const markdown = await fileResponse.text();

                            // Extract version from the first line if available
                            const lines = markdown.split('\n');
                            if (lines.length > 0 && /^\d+\.\d+\.\d+$/.test(lines[0].trim())) {
                                versionNumber = lines[0].trim();
                            }

                            const html = marked.parse(markdown);
                            const card = createFeatureCard(html);

                            // Add to visible or hidden container
                            if (i < 3) {
                                visibleContainer.appendChild(card);
                            } else {
                                hiddenContainer.appendChild(card);

                                // If this is the first hidden card, add the "See More" button
                                if (i === 3) {
                                    featuresContainer.appendChild(hiddenContainer);
                                    featuresContainer.appendChild(btnContainer); // Button after all content
                                }
                            }

                            foundFeatures = true;
                        }
                    }

                    // Update the version in the subheading
                    const versionSubheading = document.querySelector('.features-section-content .support-subheading');
                    if (versionSubheading) {
                        versionSubheading.textContent = `New in Euphoria Patches ${versionNumber}`;
                    }

                    // Initialize carousels for visible cards
                    setTimeout(() => {
                        initCarousels();
                    }, 100);
                }
            } else {
                console.error('Could not load feature index file');
            }
        } catch (error) {
            console.error('Error loading feature files:', error);
        }
    }

    function toggleFeatures() {
        const hiddenFeatures = document.querySelector('.hidden-features');
        const btn = document.getElementById('seeMoreFeaturesBtn');

        if (hiddenFeatures.style.maxHeight === '0px' || !hiddenFeatures.style.maxHeight) {
            // Set opacity first for smoother appearance
            hiddenFeatures.style.opacity = '1';

            // Temporarily remove transition for accurate measurement
            hiddenFeatures.style.transition = 'none';
            hiddenFeatures.style.maxHeight = 'none';

            // Initialize carousels immediately
            initCarousels();

            // Measure full height including all rows of cards
            const totalHeight = hiddenFeatures.scrollHeight;

            // Reset and prepare for animation
            hiddenFeatures.style.maxHeight = '0px';

            // Force browser to recognize the change
            hiddenFeatures.offsetHeight;

            // Restore transition and animate to full height
            hiddenFeatures.style.transition = 'max-height 0.5s ease-out, opacity 0.4s ease-out';
            hiddenFeatures.style.maxHeight = totalHeight + 'px';

            btn.innerHTML = "See Less Features ‚ñ≤";
            btn.style.backgroundColor = "rgba(255, 255, 255, 0.2)";
            btn.classList.remove('collapsed'); // Add activated class
        } else {
            // Original collapse code
            hiddenFeatures.style.maxHeight = "0";
            btn.innerHTML = "See More Features ‚ñº";
            btn.style.backgroundColor = "rgba(255, 80, 223, 0.1)";
            hiddenFeatures.style.opacity = '0';
            btn.classList.add('collapsed'); // Remove activated class
        }
    }

    function createFeatureCard(html) {
        const card = document.createElement('div');
        card.className = 'feature-card';

        // Extract data from HTML
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, 'text/html');

        const title = extractTitle(doc);
        const { youtubeVideoId, youtubeElement } = extractYouTubeInfo(doc);
        const { mediaSrc, isVideo, multipleImages } = extractMediaInfo(doc, youtubeElement);
        const description = extractDescription(doc, youtubeElement);

        // Create HTML for media content
        const mediaContent = createMediaContent(youtubeVideoId, isVideo, mediaSrc, multipleImages);

        // Create card content
        card.innerHTML = `
            ${mediaContent}
            <div class="feature-card-content">
                <h3>${title}</h3>
                <div class="feature-description">${description}</div>
            </div>
        `;

        return card;
    }

    function extractTitle(doc) {
        return doc.querySelector('h1') ? doc.querySelector('h1').textContent : 'Feature Preview';
    }

    function extractYouTubeInfo(doc) {
        let youtubeVideoId = null;
        let youtubeElement = null;
        const paragraphs = doc.querySelectorAll('p');

        for (const p of paragraphs) {
            const youtubeLink = p.querySelector('a[href*="youtube.com/watch"], a[href*="youtu.be/"]');

            if (youtubeLink) {
                const url = youtubeLink.href || youtubeLink.textContent.trim();
                const youtubeRegex = /(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\s]+)/;
                const match = url.match(youtubeRegex);

                if (match && match[1]) {
                    youtubeVideoId = match[1];
                    youtubeElement = youtubeLink; // Store the link element, not the paragraph
                    break;
                }
            } else if (p.textContent.includes('youtube.com/watch?v=') || p.textContent.includes('youtu.be/')) {
                // Plain text YouTube URL
                const youtubeRegex = /(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\s]+)/;
                const match = p.textContent.match(youtubeRegex);

                if (match && match[1]) {
                    youtubeVideoId = match[1];
                    youtubeElement = p;
                    break;
                }
            }
        }

        return { youtubeVideoId, youtubeElement };
    }

    function extractMediaInfo(doc, youtubeElement) {
        // If YouTube element exists, don't look for images
        if (youtubeElement) {
            return { mediaSrc: '', isVideo: false, multipleImages: [] };
        }

        // Check for multiple images
        const allImages = doc.querySelectorAll('img');
        const multipleImages = [];

        if (allImages.length > 1) {
            // We have multiple images, collect all sources
            allImages.forEach(img => {
                multipleImages.push(img.getAttribute('src'));
            });

            // First image is still our main mediaSrc
            return {
                mediaSrc: allImages[0].getAttribute('src'),
                isVideo: false,
                multipleImages
            };
        } else if (allImages.length === 1) {
            // Single image case
            const mediaSrc = allImages[0].getAttribute('src');
            const isVideo = mediaSrc && (mediaSrc.endsWith('.mp4') || mediaSrc.endsWith('.webm') || mediaSrc.endsWith('.mov'));
            return { mediaSrc, isVideo, multipleImages: [] };
        }

        // No media
        return { mediaSrc: '', isVideo: false, multipleImages: [] };
    }

    function extractDescription(doc, youtubeElement) {
        let description = '';
        const paragraphs = doc.querySelectorAll('p');

        // Check if the first paragraph is just a version number
        if (paragraphs.length > 0) {
            const firstParagraphText = paragraphs[0].textContent.trim();

            // Try to find a paragraph with description content
            for (const p of paragraphs) {
                // If this paragraph contains the YouTube link but also has other text
                if (youtubeElement && p.contains(youtubeElement)) {
                    // Get the text before the YouTube link
                    let textContent = '';
                    for (const node of p.childNodes) {
                        // Stop when we reach the YouTube link
                        if (node === youtubeElement || (youtubeElement.contains && youtubeElement.contains(node))) {
                            break;
                        }

                        // Add text content
                        if (node.nodeType === Node.TEXT_NODE) {
                            textContent += node.textContent;
                        }
                    }

                    const extractedText = textContent.trim();
                    if (extractedText) {
                        description = extractedText;
                        break;
                    }
                }

                // Skip paragraphs that contain only an image
                if (p.querySelector('img') && p.textContent.trim() === '') {
                    continue;
                }

                // Use this paragraph as description
                if (p.textContent.trim() !== '') {
                    const descClone = p.cloneNode(true);

                    // Remove the image if it exists
                    const imgInClone = descClone.querySelector('img');
                    if (imgInClone) {
                        imgInClone.remove();
                    }

                    // Remove YouTube links if they exist
                    const ytLinkInClone = descClone.querySelector('a[href*="youtube.com/watch"], a[href*="youtu.be/"]');
                    if (ytLinkInClone) {
                        ytLinkInClone.remove();
                    }

                    description = descClone.textContent.trim();
                    break;
                }
            }
        }

        console.log('Extracted description:', description);
        return description;
    }

    function createMediaContent(youtubeVideoId, isVideo, mediaSrc, multipleImages = []) {
        if (youtubeVideoId) {
            // YouTube embed code (unchanged)
            return `
                <div class="feature-card-media youtube-container">
                    <div class="youtube-thumbnail" data-youtube-id="${youtubeVideoId}">
                        <img src="https://img.youtube.com/vi/${youtubeVideoId}/maxresdefault.jpg"
                            onerror="this.onerror=null; this.src='https://img.youtube.com/vi/${youtubeVideoId}/hqdefault.jpg'">
                        <div class="youtube-play-button">
                            <svg height="100%" version="1.1" viewBox="0 0 68 48" width="100%">
                                <path class="youtube-play-button-bg" d="M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z" fill="#212121" fill-opacity="0.8"></path>
                                <path d="M 45,24 27,14 27,34" fill="#fff"></path>
                            </svg>
                        </div>
                    </div>
                </div>
            `;
        } else if (isVideo) {
            // Video element (unchanged)
            return `
                <div class="feature-card-media">
                    <video controls class="feature-video">
                        <source src="${mediaSrc}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
            `;
        } else if (multipleImages && multipleImages.length > 1) {
            // Updated carousel implementation to match the example
            return `
                <div class="feature-card-media">
                    <div class="carousel-container">
                        <div class="carousel">
                            ${multipleImages.map((imgSrc, index) =>
                                `<img src="${imgSrc}" loading="lazy" class="carousel-image ${index === 0 ? 'active' : ''}" alt="Feature image ${index+1}">`
                            ).join('')}
                        </div>
                        <div class="carousel-indicator">
                            ${multipleImages.map((_, index) =>
                                `<span class="indicator-dot ${index === 0 ? 'active' : ''}"></span>`
                            ).join('')}
                        </div>
                    </div>
                </div>
            `;
        } else if (mediaSrc) {
            // Single image (unchanged)
            return `
                <div class="feature-card-image" style="background-image: url('${mediaSrc}')"></div>
            `;
        } else {
            // Fallback for no media (unchanged)
            return `<div class="feature-card-no-media"></div>`;
        }
    }

    document.addEventListener('click', function(e) {
        const youtubeContainer = e.target.closest('.youtube-thumbnail');

        if (youtubeContainer) {
            const youtubeId = youtubeContainer.getAttribute('data-youtube-id');
            if (youtubeId) {
                // Replace thumbnail with actual iframe
                const iframe = document.createElement('iframe');
                iframe.classList.add('feature-video');
                iframe.width = '100%';
                iframe.height = '100%';
                iframe.src = `https://www.youtube.com/embed/${youtubeId}?autoplay=1`;
                iframe.frameBorder = '0';
                iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
                iframe.allowFullscreen = true;

                // Replace the thumbnail div with the iframe
                const parentDiv = youtubeContainer.parentNode;
                parentDiv.innerHTML = '';
                parentDiv.appendChild(iframe);
            }
        }
    });

    // Initialize carousels after they're created
    function initCarousels() {
        const carouselContainers = document.querySelectorAll('.carousel-container');

        carouselContainers.forEach(container => {
            let currentImageIndex = 0;
            const images = container.querySelectorAll('.carousel-image');
            const dots = container.querySelectorAll('.indicator-dot');

            // Skip if this carousel was already initialized
            if (container.dataset.initialized === 'true') return;

            function showImage(index) {
                // Hide current image and deactivate dot
                images[currentImageIndex].classList.remove('active');
                dots[currentImageIndex].classList.remove('active');

                // Show new image and activate dot
                currentImageIndex = index;
                images[currentImageIndex].classList.add('active');
                dots[currentImageIndex].classList.add('active');
            }

            function showNextImage() {
                let nextIndex = (currentImageIndex + 1) % images.length;
                showImage(nextIndex);
            }

            // Add click handlers to dots
            dots.forEach((dot, index) => {
                dot.addEventListener('click', function(e) {
                    e.stopPropagation(); // Prevent triggering the card's onclick
                    showImage(index);
                });
            });

            // Auto-rotate images
            const intervalId = setInterval(showNextImage, 5000);

            // Mark as initialized
            container.dataset.initialized = 'true';

            // Store interval ID for cleanup if needed
            container.dataset.intervalId = intervalId;
        });
    }

    // Modify the createFeatureCard function to initialize carousel after adding card
    const originalCreateFeatureCard = createFeatureCard;
    createFeatureCard = function(html) {
        const card = originalCreateFeatureCard(html);

        // Wait for DOM update then initialize any carousels in this card
        setTimeout(() => {
            const carousels = card.querySelectorAll('.carousel-container');
            if (carousels.length > 0) {
                initCarousels();
            }
        }, 0);

        return card;
    };

    // Also call initCarousels after all feature cards are loaded
    document.addEventListener('DOMContentLoaded', function() {
        const featuresContainer = document.getElementById('featuresContainer');
        if (featuresContainer) {
            // Use MutationObserver to detect when cards are added
            const observer = new MutationObserver(function(mutations) {
                initCarousels();
            });

            observer.observe(featuresContainer, { childList: true });
        }
    });
    </script>

    <script>
        // Image overlay functionality
        document.addEventListener('DOMContentLoaded', function() {
            const overlay = document.getElementById('image-overlay');
            const overlayImage = document.getElementById('overlay-image');
            const overlayClose = document.querySelector('.gallery-images-overlay-close');

            // Add click event to both feature card images and carousel images
            document.addEventListener('click', function(e) {
                // Handle single images (feature-card-image)
                if (e.target && e.target.classList.contains('feature-card-image')) {
                    const bgUrl = window.getComputedStyle(e.target).backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i, '$1');

                    if (bgUrl) {
                        overlayImage.src = bgUrl;
                        overlay.classList.add('show');
                    }
                }
                // Handle carousel images
                else if (e.target && e.target.classList.contains('carousel-image')) {
                    // Only respond to the active image in the carousel
                    if (e.target.classList.contains('active')) {
                        const imgSrc = e.target.getAttribute('src');

                        if (imgSrc) {
                            overlayImage.src = imgSrc;
                            overlay.classList.add('show');
                        }
                    }
                }
            });

            // Close overlay when clicking the X button
            overlayClose.addEventListener('click', () => {
                overlay.classList.remove('show');
            });

            // Close overlay when clicking outside the image
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) {
                    overlay.classList.remove('show');
                }
            });

            // Close overlay when pressing Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && overlay.classList.contains('show')) {
                    overlay.classList.remove('show');
                }
            });
        });
    </script>

</body>
</html>
